{
  "$schema": "http://json-schema.org/draft-07/schema",
  "title": "MetadataSchema",
  "description": "Metadata management",
  "type": "object",
  "additionalProperties": false,
  "required": ["name", "label", "electrons"],
  "properties": {
    "$schema": {
      "type": "string"
    },
    "name": {
      "type": "string",
      "format": "apiName"
    },
    "label": {
      "type": "string"
    },
    "description": {
      "type": "string"
    },
    "electrons": {
      "type": "array",
      "items": {
        "title": "MetadataElectron",
        "type": "object",
        "required": ["name", "label", "fieldType", "isRequired"],
        "additionalProperties": false,
        "properties": {
          "name": {
            "type": "string"
          },
          "label": {
            "type": "string"
          },
          "fieldType": {
            "type": "string",
            "title": "MetadataFieldType",
            "enum": [
              "Text",
              "NameText",
              "LargeText",
              "SingleSelect",
              "MultiSelect",
              "Boolean",
              "DateTime",
              "Integer",
              "Float",
              "Currency",
              "Password",
              "ManyToMany",
              "ManyToOne",
              "Owner",
              "Attachment",
              "Mixed",
              "Role"
            ],
            "tsEnumNames": [
              "Text",
              "NameText",
              "LargeText",
              "SingleSelect",
              "MultiSelect",
              "Boolean",
              "DateTime",
              "Integer",
              "Float",
              "Currency",
              "Password",
              "ManyToMany",
              "ManyToOne",
              "Owner",
              "Attachment",
              "Mixed",
              "Role"
            ]
          },
          "referenceTo": {
            "type": "string"
          },
          "foreignName": {
            "type": "string"
          },
          "description": {
            "type": "string"
          },
          "isRequired": {
            "type": "boolean",
            "description": "It will be effect in Schema builder and Input Validate."
          },
          "isUnique": {
            "type": "boolean",
            "description": "It will be effect in Schema builder and Input Validate. If the isUnique is set as true, the electron should be set as isRequired and isIndex."
          },
          "isIndexed": {
            "type": "boolean",
            "description": "It will be effect in Schema builder and Input Validate."
          },
          "precision": {
            "type": "number",
            "description": "It will be effect in Schema builder and Input Validate. This field is only apply for Float type, and the float default is 8."
          },
          "scale": {
            "type": "number",
            "description": "I will be effect in Schema builder and Input Validate. This field is only apply for Float type, and the float default is 2."
          },
          "options": {
            "title": "MetadataOptions",
            "type": "array",
            "items": {
              "type": "object",
              "required": ["key", "label"],
              "additionalProperties": false,
              "properties": {
                "key": {
                  "type": "string"
                },
                "label": {
                  "type": "string"
                },
                "color": {
                  "type": "string"
                }
              }
            }
          },
          "passwordOptions": {
            "title": "MetadataPasswordOptions",
            "type": "object",
            "additionalProperties": false,
            "properties": {
              "requireNumber": {
                "type": "number"
              },
              "requireCharacter": {
                "type": "boolean"
              },
              "requireUppercase": {
                "type": "boolean"
              },
              "requireLowercase": {
                "type": "boolean"
              },
              "minLength": {
                "type": "number"
              },
              "maxLength": {
                "type": "number"
              }
            }
          },
          "currencyOptions": {
            "title": "MetadataCurrencyOptions",
            "description": "More Currency ISO Reference: https://en.wikipedia.org/wiki/ISO_4217, the data precision will be set as 15 and scale will be set as 4.",
            "type": "object",
            "additionalProperties": false,
            "properties": {
              "code": {
                "type": "string",
                "description": "The code is from ISO 4217."
              },
              "scale": {
                "type": "number",
                "description": "This electron.currencyOptions.scale value is different with electron.scale, the scale is just used for Front-end format."
              }
            }
          },
          "attachmentOptions": {
            "title": "MetadataAttachmentOptions",
            "type": "object",
            "additionalProperties": false,
            "properties": {
              "allowedMime": {
                "type": "array",
                "items": {
                  "type": "string"
                }
              },
              "limitSize": {
                "type": "number"
              },
              "limitUpload": {
                "type": "number"
              }
            }
          }
        }
      }
    }
  }
}
