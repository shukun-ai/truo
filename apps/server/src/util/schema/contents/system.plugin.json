{
  "$schema": "../schemas/plugin.schema.json",
  "name": "system",
  "metadata": [
    {
      "atom": {
        "name": "system__users",
        "label": "用户表"
      },
      "electrons": [
        {
          "name": "username",
          "label": "用户名",
          "fieldType": "Text",
          "isRequired": true,
          "isUnique": true,
          "isIndexed": true
        },
        {
          "name": "displayName",
          "label": "显示名",
          "fieldType": "Text",
          "isRequired": true
        },
        {
          "name": "password",
          "label": "密码",
          "fieldType": "Password",
          "isRequired": true
        },
        {
          "name": "avatar",
          "label": "用户头像",
          "fieldType": "Attachment",
          "isRequired": false
        },
        {
          "name": "locale",
          "label": "语言",
          "fieldType": "Text",
          "isRequired": false
        },
        {
          "name": "timezone",
          "label": "时区",
          "fieldType": "Text",
          "isRequired": false
        }
      ]
    },
    {
      "atom": {
        "name": "system__roles",
        "label": "角色"
      },
      "electrons": [
        {
          "name": "name",
          "label": "角色 ID 名",
          "fieldType": "NameText",
          "isRequired": true,
          "isUnique": true,
          "isIndexed": true
        },
        {
          "name": "label",
          "label": "角色显示名",
          "fieldType": "Text",
          "isRequired": true,
          "isUnique": false
        },
        {
          "name": "permissions",
          "label": "权限清单",
          "fieldType": "Mixed",
          "isRequired": true
        }
      ]
    },
    {
      "atom": {
        "name": "system__views",
        "label": "视图"
      },
      "electrons": [
        {
          "name": "name",
          "label": "视图 ID 名",
          "fieldType": "NameText",
          "isRequired": true,
          "isUnique": true,
          "isIndexed": true
        },
        {
          "name": "label",
          "label": "视图显示名",
          "fieldType": "Text",
          "isRequired": true
        },
        {
          "name": "type",
          "label": "视图类型",
          "fieldType": "SingleSelect",
          "isRequired": true,
          "options": [
            {
              "key": "Simple",
              "label": "表格模式"
            },
            {
              "key": "Tree",
              "label": "层级模式"
            },
            {
              "key": "Calendar",
              "label": "日历模式"
            },
            {
              "key": "Gallery",
              "label": "卡片模式"
            },
            {
              "key": "Custom",
              "label": "自定义模式"
            },
            {
              "key": "External",
              "label": "外部网页"
            },
            {
              "key": "Link",
              "label": "外部链接"
            },
            {
              "key": "Menu",
              "label": "菜单项"
            }
          ]
        },
        {
          "name": "atomName",
          "label": "模型的名称",
          "fieldType": "Text",
          "isRequired": false
        },
        {
          "name": "configurations",
          "label": "配置",
          "fieldType": "Mixed",
          "isRequired": false
        },
        {
          "name": "value",
          "label": "值",
          "fieldType": "Text",
          "isRequired": false
        },
        {
          "name": "parentName",
          "label": "父级 ID 名",
          "fieldType": "Text",
          "isRequired": false,
          "isIndexed": true
        },
        {
          "name": "isVisible",
          "label": "是否显示",
          "fieldType": "Boolean",
          "isRequired": true
        },
        {
          "name": "priority",
          "label": "权重",
          "fieldType": "Integer",
          "isRequired": true,
          "isIndexed": true
        }
      ]
    },
    {
      "atom": {
        "name": "system__groups",
        "label": "部门"
      },
      "electrons": [
        {
          "name": "users",
          "label": "用户",
          "fieldType": "ManyToMany",
          "isRequired": true,
          "referenceTo": "system__users",
          "foreignName": "displayName"
        },
        {
          "name": "label",
          "label": "部门名称",
          "fieldType": "Text",
          "isRequired": true,
          "isUnique": true
        },
        {
          "name": "roles",
          "label": "角色",
          "fieldType": "ManyToMany",
          "isRequired": true,
          "referenceTo": "system__roles",
          "foreignName": "label"
        },
        {
          "name": "parent",
          "label": "父级",
          "fieldType": "ManyToOne",
          "referenceTo": "system__groups",
          "foreignName": "label",
          "isRequired": false
        }
      ]
    },
    {
      "atom": {
        "name": "system__positions",
        "label": "角色组"
      },
      "electrons": [
        {
          "name": "name",
          "label": "角色组 ID 名",
          "fieldType": "NameText",
          "isRequired": true,
          "isUnique": true
        },
        {
          "name": "label",
          "label": "角色组名称",
          "fieldType": "Text",
          "isRequired": true,
          "isUnique": true
        },
        {
          "name": "users",
          "label": "用户",
          "fieldType": "ManyToMany",
          "isRequired": true,
          "referenceTo": "system__users",
          "foreignName": "displayName"
        },
        {
          "name": "roles",
          "label": "角色",
          "fieldType": "ManyToMany",
          "isRequired": true,
          "referenceTo": "system__roles",
          "foreignName": "label"
        }
      ]
    },
    {
      "atom": {
        "name": "system__trust_domains",
        "label": "可信任域名"
      },
      "electrons": [
        {
          "name": "label",
          "label": "描述",
          "fieldType": "Text",
          "isRequired": true
        },
        {
          "name": "value",
          "label": "域名",
          "fieldType": "Text",
          "isRequired": true
        }
      ]
    },
    {
      "atom": {
        "name": "system__workflows",
        "label": "工作流"
      },
      "electrons": [
        {
          "name": "name",
          "label": "工作流 ID 名",
          "fieldType": "NameText",
          "isRequired": true,
          "isUnique": true
        },
        {
          "name": "description",
          "label": "描述",
          "fieldType": "Text",
          "isRequired": false
        },
        {
          "name": "configurations",
          "label": "配置",
          "fieldType": "Mixed",
          "isRequired": false
        },
        {
          "name": "validations",
          "label": "请求验证条件",
          "fieldType": "Mixed",
          "isRequired": false
        },
        {
          "name": "isEnabledWebhook",
          "label": "允许接口访问",
          "fieldType": "Boolean",
          "isRequired": false
        }
      ]
    }
  ],
  "views": [
    {
      "name": "system__menu",
      "label": "系统菜单",
      "type": "Menu",
      "isVisible": true,
      "isSystem": true,
      "priority": 10000,
      "configurations": {}
    },
    {
      "name": "system__users",
      "label": "用户管理",
      "type": "Simple",
      "isVisible": true,
      "isSystem": true,
      "priority": 1,
      "atomName": "system__users",
      "parentName": "system__menu"
    },
    {
      "name": "system__positions",
      "label": "角色组",
      "type": "Simple",
      "isVisible": true,
      "isSystem": true,
      "priority": 2,
      "atomName": "system__positions",
      "parentName": "system__menu"
    },
    {
      "name": "system__groups",
      "label": "部门",
      "type": "Tree",
      "isVisible": true,
      "isSystem": true,
      "priority": 3,
      "atomName": "system__groups",
      "parentName": "system__menu"
    },
    {
      "name": "system__trust_domains",
      "label": "可信任域名",
      "type": "Simple",
      "isVisible": true,
      "isSystem": true,
      "priority": 4,
      "atomName": "system__trust_domains",
      "parentName": "system__menu"
    }
  ],
  "roles": []
}
